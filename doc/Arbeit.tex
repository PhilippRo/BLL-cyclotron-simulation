\documentclass[14pt, a4paper]{report}

%Packages
\usepackage{ngerman}
\usepackage{listings}
\usepackage{color}

%Style
\setlength{\parindent}{0em}
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{frame=tb,
  language=Java,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=none,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=3
}

%Content
\begin{document}

\title{Besondere Lernleistung \\ Simulation eines Zyklotrons }
\author{Philipp Rosendahl \\ philipp.rosendahl@gmx.de \\ Mallinckrodt-Gymnasium Dortmund}
\date{23.12.2016}
\maketitle

\tableofcontents

\chapter{Vorwort}
\section{Warum sollte man ein Zyklotron simulieren?}
Teilchenbeschleuniger erm"oglichen es Forschern einen tiefen Einblick in die
Materie zu erhalten. Man sollte sich daher mit ihnen besch"aftigen, da sie die
experimentelle Grundlage der Teilchenphysik dastellen. Dennoch sind sie sehr
teuer und als Sch"uler oder Laie ist es nur schwierig möglich, einen
Teilchenbeschleuniger zu benutzen. \\
Man sollte Zyklotrons simulieren, da man Fehler vorhersagen kann, ohne die Ressourcen
f"ur einen Testlauf aufbringen zu m"ussen. Als Nichtforscher kann man, Dank Simulationen, einen Einblick in Teilgebiete aktueller Forschung erhalten und risikofrei experimentieren.
\section{Motivation}
Ich möchte diese besondere Lernleistung erbringen, da ich es interessant finde 
zu abstrahieren, Modelle zu entwickeln und diese am PC umzusetzten. 
Teilchenbeschleuniger sind relativ komplex und genie"sen ein gro"ses Interesse
in der "Offentlichkeit, was sie für eine Simulation attraktiv macht. Au"serdem
k"onnte die Simulation im Rahmen des Physikunterrichtes eingesetzt werden, da dort 
ein preiwertes und risikofreies Experimentieren erwünscht ist.
\section{Danksagung}
Ich möchte mich bei allen bedanken, die mich unterst"utzt und ermutigt haben, eine
besondere Lernleistung zu erbringen: Bei Herrn Dr. Unkelbach und Herrn H"orsken, 
die mich betreut haben, bei Herrn Dr. Wiele, Herrn Broelemann und Herrn Wambach, 
die mich auf die Möglichkeit einer besonderen Lenrleistung hingeweisen und mir im
Rahmen von mathematischen Akademien fachlich Exkurse ermöglicht haben und nicht 
zuletzt bei dem Mallinckrodt-Gymnasium, im Speziellem bei Herrn Weishaupt und Herrn
Freudenreich, das mich ausgebildet hat und mir die Möglichkeit gibt diese Arbeit zu
erbringen. Und zuletzt bei meinen Eltern, die mir ihren Möglichkeiten entsprechend
geholfen haben.

\part{Physikalische Grundlagen}
\chapter{Bedeutung eines Zyklotrons}
\section{Aufbau von Teilchenbeschleunigern}
Man differenziert zwischen drei Arten von Teilchenbeschleunigern \footnotemark
\footnotetext{vergleiche Physikbuch \_ Seite ?}
\begin{enumerate}
\item
Der \textbf{Linearbeschleuniger} besteht aus Beschleunigungskondensatoren, die linear
t oder gradlienig hintereinander angeordnet sind, durch die
Teilchen auf eine hohe Geschwindigkeit gebracht werden. Damit ist jeweils ein hoher
Konfigurationsaufwand verbunden, da viel wie z.B der Abstand zwischen allen
Kondensatorplatten oder gegebenenfalls die Frequenz an den Kondensatorplatten 
eingestellt werden muss.
\item \label{ZyklotronBeschreibungAufbau}
Das \textbf{Zyklotron} besteht aus 2 Halbkreisen zwischen denen ein Kondensator ist.
Es werden 2 Arten von Feldern benutzt. Eimal die magnetischen, mit denen die 
Teilchen auf einer Kreisbahen\footnote{mit der Lorenzkraft}
gehalten werden, und die elektrischen, 
mit denen die Teilchen w"ahrend des "Ubergangs zwischen den Halbkreisen in dem 
Kondensator beschleunigt werden. Ein Zyklotron hat einen geringen 
Konfigurationsaufwand, da nur 3 nach der klassischen Vorstellung konstante Gr"o"sen
einzustellen sind: Die Masse, die Frequenz und das Magnetfeld an den Hablkreisen. 
Haben die Teilchen einen gewissen Radius erreicht, werden sie mittels eines Kondesators
aus dem Zyklotron gelenkt.
\item
Der \textbf{Synchrotron} ist im Prinzip wie ein Zyklotron aufgebaut mit dem 
Unterschied, dass das Magnetfeld anpassbar ist und in kreisf"ormig angeordneten Rohren 
beschleunigt wird. Experimente haben gezeigt, dass die
Masse nach Einsteins Relativit"atstheorie keine konstante Größe ist. Daher muss 
dann w"ahrend der Beschleunigung das Magnetfeld und die Frequenz an den 
Beschleunigunskondensatoren angepasst werden. \label{synchrotron}
\end{enumerate}

\newpage
\section{Das Zyklotron im Vergleich zu anderen}
Zyklotrons sind die einfachsten Teichenbeschleuniger. Die anderen 
Teilchenbeschleunigern, doch die sind meistens deutlich schwieriger zu benutzten. 
Ein Nachteil des Zyklotrons ist zum Beispiel, das ein Synchrotron die Teilchen auf 
höhere Geschwindigkeiten beschleunigen kann. Damit eignet sich ein Zyklotron für 
Massenspektrometrien und andere Experimente, bei denen man nur wenig am 
Beschleuniger anpassen möchte und relativ geringe Geschwindigkeiten ausreichen. 
Bei einem Linearbeschleunigern müssen zum Beispiel, anders als beim Zyklotron, von 
Teilchenart zu Teilchenart, mehrere Beschleunigungskondensatoren an ihrem 
Plattenabstand eingestellt werden, wobei man von Kondensator zu Kondensator andere
Abst"ande braucht. Ein Synchrotron braucht eine dauerhafte Anpassung eines 
Magenetfeldes, was ein Zyklotron nicht benötigt

\chapter{Funktion eines Zyklotrons}
\section{Das elektrische Feld}
Das elektrische Feld ist ein mathematisches Modell, mitdem man die Kräfte zwischen
Ladungen modelliert. Die Feldlinien verdeutlichen dabei die Bewegung von positiver 
Ladung im elektrischen Feld. \footnote{vergleiche Metzler Physik Seite 182}
Sie gehen also von positiver Ladung zur negativen. Dabei verdeutlicht der Abstand zweier
Feldlinien die St"arke des Feldes. F"ur ein Zyklotron betrachten wir nur an"ahernd
homogene elektische Felder, wie sie in einem Kondensator vorkommen. Das besondere an 
einem homogenen Feld ist, dass die Feldstärke an jedem Punkt des Feldes gleich stark 
ist. Bei einem Zyklotron stehen die Feldlinien orthogonal auf den Kondensatorplatten
des Beschleunigungskondesnsators, da dessen Platten parrallel zueinander stehen.
F"ur das Feld im Kondesator und auch im Beschleunigungskondesator eines Zyklotrons
sind folgende Beziehungen f"ur diese Simulation wichtig:
\footnote{vgl. Das Gro"se Tafelwerk interaktiv Seite 107}
\begin{eqnarray}
\vec{E} = \frac{\vec{F}}{Q} \\
E = \frac{U}{d}
\end{eqnarray}

\section{Das magnetische Feld}
Das magnetische Feld ist, wie das elektrische Feld, auch ein mathematisches Modell.
Allerdings beschreibt dieses nur Wechselwirkungen zwischen bewegten Ladungen. Jede
bewegte Ladung erzeugt ein magnetisches Feld und ein sich "anderndes Magnetfeld 
setzt Ladung in Bewegung. \footnote{elektromagnetische Induktion}
Ein Magnetfeld wirkt auch auf bewegete Ladung. Diese Lorenzkraft l"asst sich als
Rechtssystem definieren:
\begin{eqnarray} \label{E-Feld-Gleichungen}
 \vec{F_L} && = Q\vec{v} \times \vec{B} \footnotemark \\
 F_L && = Q * v * B (wenn ~ \vec{v} \perp \vec{B}) \footnotemark
\end{eqnarray}
\footnotetext{vgl. Metzlers Physik Seite 229}
\footnotetext{vgl. das Gro"se Tafelwerk interaktiv Seite 109}

 
\section{Mit elektrischen und magentischen Feldern geladene Teilchen beschleunigen}
In einem Zyklotron werden geladene Teilchen mithilfe elektrischer und magnetischer 
Felder beschleunigt. Dieses ist nur m"oglich, da die Teilchen mit einer
Startgeschwindigkeit $v_0$, die von einem Vorbeschleuniger ( meist 
Linerarbeschleuniger) erzeugt wird, in das Zyklotron eintreten. Wie in Kapitel 2 
gezeigt 
\marginpar{siehe S. \pageref{ZyklotronBeschreibungAufbau}}
sind für ein Zyklotron 2 Beschleunigungsarten wichtig: erstens eine lineare und 
zweitens eine radiale. Für die lineare Beschleunigung also f"ur die Erh"ohung des 
Betrages der Geschwindikeit benutzt man ein elektisches Feld. Die Feldlinien im 
Kondensator sind an"ahernd parrallel zu der Bewegungsrichtung des geladenen Teilchens. 
Also kann angenommen werden, dass die gesamte Kraft auf den Betrag der Geschwindigkeit 
des geladenen Teilchens wirkt. Das magnetische Feld wird dazu verwendet das geladene
Teilchen auf einer Kreisbahn zu bewegen. Da die Lorenzkraft ein Rechtsystem aus der
Geschwindigkeit, dem Magnetfeld und der Kraft bildet, kann man das Magnetfeld so
in das Zyklotron legen, dass die Lorentkraft als Zentripitalkraft $F_L = F_Z$ wirkt.
Um das zu erreichen, steht das Magnetfeld immer im rechten Winkel auf der Kreisbahn
des geladenen Teilchens.

Nach der klassischen Vorstellung ist ist die Umlaufzeit eines geladenen Teilchens 
unabhängig von dessen Geschwindigkeit:
\begin{eqnarray}
  F_L  		&& = F_Z  \footnotemark  \\
  Q * v * B 	&& = \frac{m * v^2}{r} \label{Radius im Zyklotron}\\
  r		&& = \frac{m * v}{Q * B} \\
  r		&& = \frac{m * 2 * \pi * r}{Q * B * T} \\
  T		&& = \frac{m * 2 * \pi }{Q * B} \label{klassische_Umlaufzeit}
\end{eqnarray}
\footnotetext{vgl. Das Gro"se Tafelwerk interaktiv Seite 93}
Alle Werte von denen die Umlaufzeit $T$ abh"angt sind, nach der klassischen Vorstellung
konstant. Daraus folgt, dass das geladene Teilchen immer dann den Kondensator passiert,
wenn die Spannung auf Beschleunigungs steht, da sich die Frequenz am Kondensator ohne
Probleme auf $\frac{1}{T}$ einstellent l"asst. So kann man, nach dem klassischen Modell
ein geladenes Teilchen im Prinzip unbegrenzt hoch beschleunigung, bis es aus dem
Zyklotron entfernt wird. \label{klassische_Erwartung}

\chapter{relativistische Mechanik im Zyklotron}
\section{Grundlage: Relativit"atstheorie}
Neben der klassichen Vorstellung exsistiert allerdings noch eine andere, die 
Relativit"atstheorie. Einigen Ph"anome, wie zum Beispiel die des Michelson-Experimentes,
lassen sich mit der klassischen Vorstellung nicht erkl"aren. Einstein nahm an, dass 
die Gesetze der Physik in jedem Bezugssystem gleicherma"sen gelten m"ussen. 
Wenn man sich allerdings mit $c$ bewegt, erscheint ein Lichtstrahl als ruhend. 
Die Lichtgeschwindigkeit ist eine Naturkonstante und sollte daher unter keinen 
Umst"anden abweichen. Deshalb postulierte Einstein, dass in jedem Initialsystem die 
Naturkonstanten, wie die Lichtgeschwindigkeit, gleich seien m"ussten. Daraus folgt auch
das alle Initialsysteme bei Beobachtungen und Regeln gleichberechtigt sind. Das hei"st,
das man in einem Raumschiff, dass mit an"ahernd $c$ fliegt, die selben Beobachtungen 
macht, wie auf der Erde.
\footnote{vgl. Metzler Physik Seite 345}

Daraus folgt, dass einige Gr"o"sen, die nach unserer allt"aglichen Erfahrung konstant
seien m"ussten nicht konstant sein k"onnen. Nimmt man an, dass man ein Teilchen 
unendlich lange beschleunigt, gibt es irgendwann den Punkt, an dem man es nicht weiter
beschleunigen kann, da das Teilchen sonnst f"ur einen Moment so schnell wie das Licht 
w"are. Das Problem ist, wo wird die Energie gespeichert? In der klassischen Vorstellung 
w"urde sich die Geschwindigkeit erh"ohen, doch das ist jetzt nicht mehr m"oglich, aber 
trotzdem muss die Energie irgendwo gespeichert werden\footnote{Energieerhaltungssatz}. 
Um das Problem zu l"osen, nahm man an, dass die Masse des besagten Teilchens gr"o"ser 
wird und die Energie speichert. \marginpar{Siehe Seite \pageref{var_m} \ref{var_m}}
Dieses Ph"anomen trifft erst bei sehr hohen Geschwindigkeiten auf. Die klassische 
Vorstellung trifft auf sehr kleine Geschwindikeiten immernoch n"aherungsweise zu.

So l"asst sich sagen: Aus dem Bezugssystem $S$ betrachtet hat 
ein Objekt im Bezugssystem $S'$ andere Eigenschaften, zum Beispiel eine ver"anderte 
Masse $m_v$, da sich von $S$ aus $S'$ mit einer Geschwindigkeit $v$ bewegt. 
Allerdings funktioniert das auch umgekehrt. Steht der Betrachter im Bezugssystem $S'$ 
hat das selbe Objekt die Ruhemasse $m_0$, während sich ein anderes Objekt im System $S$ 
in den Eigenschaften ver"andert hat. Zusammengefasst: Einige Werte, die in der 
klassischen Vorstellung konstant sind, h"angen eigentlich von der Geschwindigkeit 
relativ zum eigenen Bezugssystem ab.

Einige von Einstein abgeleiteten Beziehungen sind 
\footnote{vgl. das Gro"se Tafelwerk interaktiv Seite 116 }:
\begin{eqnarray}
\beta && = \frac{v}{c} \\
\Delta t' && = \Delta t * \sqrt{1 - \beta^2} ~ (Zeitdilatation) \\
\Delta x' && = \Delta x * \sqrt{1 - \beta^2} ~ (L"angenkontraktion) \\
m && = \frac{m_0}{\sqrt{1 - \beta^2}} \label{var_m} \\
W_{ges} && = m * c^2 \label{mc_square}
\end{eqnarray}

\section{Experimenteller Befund: Das klassische Modell schl"agt fehl}
Gegen die Erwartgungen im klassischen Modell 
\marginpar{Siehe Seite \pageref{klassische_Erwartung} \ref{klassische_Erwartung}}
lassen sich die Teilchen nicht unbegrenzt beschleunigen. Im klassischen Modell
gilt die Beziehung $T = \frac{m * 2 * \pi }{Q * B}$.
Man ging davon aus, dass sich $T$ nicht ver"andert, da alle Gr"o"sen rechts von dem 
Gleichheitszeichen Konstanten seien. Doch die Masse eines Teilchens
ist keine konstante Gr"o"se \marginpar{vgl. \ref{var_m}} und steigt mit zunehmender 
Geschwindigkeit. Die Frequenz am Beschleunigungskondensator und die Umlaufzeit wurden
extra aufeinander abgestimmt, um eine maximale Beschleunigung zu erzielen. Wenn das 
nicht mehr gegeben ist spricht man davon, dass das Zyklotron aus dem Takt gekommen ist.
\label{Zyklotron aus dem Takt}
Nun passiert es,
dass das geldene Teilchen im Kondensator zwar noch beschleunigt wird, aber wenn sich die
Spannung im Kondensator "andert, es sich immernoch in ihm befindet und dann wieder 
abgebremst wird. Im Extremfall wird der Kondesator genau dann umgepolt, wenn das 
Teilchen gerade in der Mitte des Beschleunigungskondensators ist. Dann wird die 
Geschwindigkeit gar nicht erh"oht, da es genau so lange postiv wie negativ beschleunigt 
wird \footnote{Bremsen wird als negative Beschleunigung betrachtet}.
Aufgrund dieses Befundes wurde das Synchrotron entwickelt 
\marginpar{vgl. Synchrotron Seite \pageref{synchrotron}}

\chapter{verwendetes Modell}
\section{Betrachtung der Teilchen und Felder}
\paragraph{Teilchen} 
werden in dieser Simulation als Punkte betrachtet, die Masse und Ladung
besitzen. Es wirken nur Kräfte aus in dem Zyklotron auf das Teilchen. Also keine
Schwerkraft von anderen Massen. In anderen Worten ausgedr"uckt: 
die Teilchen werden in der Schwerelosigkeit und im Vakuum beschleunigt.

\paragraph{Die Felder} 
werden als absolut homogen und perfekt auf die Teilchen ausgerichtet
betrachtet. Man hat also keine Kraftverluste, weil das zum Beispiel nicht perfekt
orthogonal auf der Kreisbahn der geladenen Teilchen stehen k"onnte.

\section{Beschleunigung im E-Feld}
Die typische Betrachtung von geladenen Teilchen im elektrischen Feld 
$E_{kin} = Q * U$ \footnote{(vgl. Das Gro"se Tafelwerk interaktiv Seite 108}
f"ur die Zunahmen an kinetischer Energie im elektrischen Feld ist f"ur diese Simulation
nicht hilfreich, da mit mit ihr nicht die Zeit verfolgen, aber das notwendig ist, um das
aus dem Takt kommende Zyklotron zu simulieren. 
\marginpar{Siehe Seite \pageref{Zyklotron aus dem Takt}}

Daher verfolgen wir die Interpretation der Kraft als Ableitung des Impulses
\begin{equation}
\dot{p} = f 
\end{equation}
und formen jenen nach einer Gleichung der Gestalt $v(t)$ um.
\newpage
Es l"asst sich folgender Zusammenhang ableiten:
\begin{eqnarray}
\frac{d}{dt} (m * v ) && = \frac{U * Q}{d} ~~~~~~~~\footnotemark \\
\frac{d}{dt} (\frac{m_0 * v}{\sqrt{1 - (\frac{v}{c}})^2}) && = \frac{U * Q}{d} \\
\frac{d}{dt} (\frac{v}{\sqrt{1 - (\frac{v}{c})^2}}) && = \frac{U * Q}{d * m_0} \\
\int_{t_0}^t \frac{d}{dt} (\frac{v}{\sqrt{1 - (\frac{v}{c})^2}}) 
    && = \int_{t_0}^t \frac{U * Q}{d * m_0} \\
\end{eqnarray}
\begin{center}
$ \frac{U * Q}{d * m_0} $ wird als $ a $ interpretiert
\end{center}
\begin{eqnarray}
a && = \frac{U * Q}{d * m_0} \label{Beschleunigung} \\ 
\frac{v}{\sqrt{1 - (\frac{v}{c})^2}} && = a * t + v_0 \\
\frac{v^2}{1 - (\frac{v}{c})^2} && = (a * t + v_0 )^2 \\
v^2  && = (a * t + v_0)^2 - (\frac{v}{c})^2 * (a * t + v_0)^2\\
v^2 + (\frac{v}{c})^2 * (a * t + v_0)^2 && = (a * t + v_0)^2 \\
v^2 * (1 + \frac{(a * t + v_0)^2}{c^2}) &&  = (a * t + v_0)^2 \\
v^2 && = \frac{(a * t + v_0)^2}{1 + (\frac{a * t + v_0}{c})^2} \\ 
v && = \frac{a * t + v_0}{\sqrt{1 + (\frac{a * t + v_0}{c})^2}}
\end{eqnarray}
\footnotetext{vgl. Unkelbachschen Formelsammlung Seite 5 und Seite 15}

\newpage
Nun wird noch ein Zusammenhang f"ur die zur"uckgelegte Streckte im Kondensator gebraucht,
um zu berechnen, wie lange das geladene Teilchen im Kondesator bleibt.
\begin{eqnarray}
s(t) && = \int_0^t v(t) ~dt \\
s(t) && = \int_0^t \frac{a * t + v_0}{\sqrt{1 + (\frac{a * t + v_0}{c})^2}} ~ dt
\end{eqnarray}

man substuiert $u = 1 + (\frac{a * t + v_0}{c})^2$ und 
$dt = \frac{du}{(1 + (\frac{a * t + v_0}{c})^2)\dot{}}$

\begin{eqnarray}
s(t) && = \int_{1 + (\frac{v_0}{c})^2}^{1 + (\frac{a*t + v_0}{c})^2}  \frac{a * t + v_0}{\sqrt{u}} ~ \frac{du}{ ({1 + (\frac{a * t + v_0}{c})^2})\dot{}}\\
s(t) && =  \int_{1 + (\frac{v_0}{c})^2}^{1 + (\frac{a*t + v_0}{c})^2}  \frac{a * t + v_0}{\sqrt{u}} ~ \frac{du}{2*(\frac{a * t + v_0}{c})*\frac{a}{c}}\\
s(t) && = \frac{1}{2}*(\frac{c^2}{a}) ~ \int_{1 + (\frac{v_0}{c})^2}^{1 + (\frac{a*t + v_0}{c})^2} \frac{1}{u} ~ du \\
s(t) && = \frac{1}{2}*(\frac{c^2}{a})~[2*\sqrt{u}]_{1 + (\frac{v_0}{c})^2}^{1 + (\frac{a*t + v_0}{c})^2} \\
s(t) && = (\frac{c^2}{a}) * (\sqrt{1 + (\frac{a*t + v_0}{c})^2} - \sqrt{1 + (\frac{v_0}{c})^2})
\end{eqnarray}

Um die Zeit im Kondensator zu berechnen wird eine Funktion der Gestalt $t_{v_0}(s)$
gesucht, die sich aus der obigen Gleichung $s(t)$ ableiten l"asst. Da die Injektivit"at 
\footnote{Quelle ist nicht zu suchen} von $s(t)$ nicht gegeben ist, wird eine 
Umkehrfunktion f"ur den Wertebereich $t \ge 0 und v_0 \ge 0$ gesucht.

\begin{eqnarray}
s && = (\frac{c^2}{a}) * (\sqrt{1 + (\frac{a*t + v_0}{c})^2} - \sqrt{1 + (\frac{v_0}{c})^2}) \\
\frac{s*a}{c^2}&& = \sqrt{1 + (\frac{a*t + v_0}{c})^2} - \sqrt{1 + (\frac{v_0}{c})^2}) \\
\sqrt{1 + (\frac{a*t + v_0}{c})^2} &&= \frac{s*a}{c^2} + \sqrt{1 + (\frac{v_0}{c})^2} \\
(\frac{a*t + v_0}{c})^2 &&  = (\frac{s*a}{c^2} + \sqrt{1 + (\frac{v_0}{c})^2})^2 - 1 \\ 
\frac{a*t + v_0}{c} && = +\sqrt{(\frac{s*a}{c^2} + \sqrt{1 + (\frac{v_0}{c})^2})^2 - 1}
\end{eqnarray}
Das Vorzeichen vor der Wurzel ist plus, da alle Werte aus der Bild und Ursprungsmenge 
der Funktione $s(t)$ mit den obigen Einschr"ankungen positiv sind.
\begin{eqnarray}
t = \frac{c}{a} * ( +\sqrt{(s*a/c^2 + \sqrt{1 + (\frac{v_0}{c})^2})^2 - 1} - \frac{v_0}{c})
\end{eqnarray}

In der Relativit"atstherie kommt es auf den Bezugspunkt an. Deshalb reicht es aus nur
die Massenver"anderung des Teilchens zu breachten, da ein Teilchen als Punkt 
interpretiert wird und Punkte sich nicht kontrahieren können und die Zeit f"ur das 
Teilchen irrelevant ist, da die Beschleunigung aus sich des Zyklotrons simuliert wird.
Natürlich gebe es weitere relativistische Effekte, wenn man aus die Perpektive des 
Teilchens simulieren w"urde.

Die Gesamternergie des Teilchens wird mit $ e = m*c^2$ \footnote{Siehe 
Seite \pageref{mc_square} \ref{mc_square}} beschrieben. Die kinetische Energie ist die 
Energiezunahme eines Teilchens durch eine Beschleunigung. Die kinetische Energie eines
Teilchens ist also die bewegte Gesamteenergie - die ruhende. Das lässt sich zu 
$E_{kin} = (m-m_0)*c^2$ vereinfachen. Die bewegte Masse wird mit 
$m = \frac{m_0}{1-(v/c)^2}$\footnote{Siehe Seite \pageref{var_m} \ref{var_m}} berechnet.
Einige Sachverhalte lassen sich mit klassischen Mitteln am genauso gut, wie mit 
relativistischen beschreiben, wenn man bei ihnen die variable Masse bedenkt, 
wie zu Beispiel der Radius eines Teilchens im Zyklotron.

\section{klassische Mechanische Zusammenh"ange im Zyklotron}
In dem klassischem Modell werden die typischen Zusammenh"ange $v(t) = a*t + v_0$ und,
der daraus entstehende, $s(t) = \frac{1}{2} *a *t^2 + v_0 *t + s_0$ verwendet, um die
Geschwindigkeit und die Strecke im Beschleunigungskondesator zu modellieren. Die 
Beschleunigung $a$ wird aus dem  relativistischen Modell "Ubernommen 
\footnote{Siehe Seite \pageref{Beschleunigung} \ref{Beschleunigung}}. Die kinetische 
Energie ist $ W_{kin} = \frac{1}{2} * m * v^2 $ \footnote{vgl. Das Gro"se Tafelwerk 
interaktiv Seite 94}. Die Gesamtenergie des Systemes ist gleich der kinetischen
Energie, da Masse in der klassischen Vorstellung keine Energieform ist und daher die
einzige Energieform des Teilchens die kinetische ist. F"ur den Radius wird der 
Zusammenhang $ r = \frac{m * v}{Q * B} $ \footnote{Siehe Seite \pageref{Radius im 
Zyklotron} \ref{Radius im Zyklotron}}. Die Dauer einer halben Umrundung $U$ l"asst sich 
folgenderma"sen beschreiben:
\begin{eqnarray}
v && = \frac{\Delta s}{\Delta t} \footnote{Defintion der Geschwindigkeit}\\
\Delta t && = \frac{\Delta s}{v} \\
T && = \frac{U}{ 2*v}\\
T && = \frac{\pi * r}{v}
\end{eqnarray}

\part{Umsetzung am PC}
\chapter{Die technische Herausvorderung}
\section{Geschwindigkeit und Rechenaufwand}
Eine gro"se Herausforderung bei einer Simulation ist die Geschwindigkeit. Der Benutzer
m"ochte keine lange Zeit warten, um eine relativ kurze Beschleunigung simuliert zu
bekommen. Das Problem dabei ist, dass gleichzeitig eine Gro"se Korrekheit des Models
erwartet wird. Es ist schwierig gleichzeitig genau und schnell zu rechnen. Das wird 
auch noch dadurch verst"arkt, dass mehrere Zyklotrons gleichzeitig simuliert werden.

Die Berechnungen sind deutlich simpler als die L"osung einiger Differentialgleichungen,
aber trotzdem besteht eine Anforderung keine langsamen Code zu schreiben, da im 
Optimalfall die Simulation in Echtzeit angezeigt werden soll.


\section{Genauigkeitsproblem bei Flie"skommazahlen}
Es gibt einige Probleme, wenn man am PC genau rechenen will, die von den 
unterschiedlichen Zahlensystemen und dem beschr"anken Speicherplatz des Computers 
verursacht werden. Ein Bepiel f"ur eine Ungenauigkeit im Dezimalsystem sind Zahlen
wie $\frac{1}{3}$, die im Dezimalsystem unendlich lang dagestellt sind, damit genau
abgebildet werden. Ein Computer kann jedoch keine Zahl unendlich lang dastellen, da
er nur begrenzten Speicherplatz hat. Das Problem geht noch deutlich weiter, da eine
typische Flie"skommazahl eines Computers schon 32 Nachkommastellen im 
Bin"arsystem abschneidet. So ist zum Beispiel die Masse Elektrons mit $9,106 * 10^{31} 
kg$ im Computer nie genau dagestellt wird, da die kleinste Zahl, die er dastellen kann 
$2^{-32} \approx 2,328 * 10^{-10}$ ist. Eine weitere Zahlen, die nicht dagestellt werden
kann ist zum Beispiel auch die Elementarladung $e = 1,602 * 10^{-16} C$. Der typische 
Flie"skommazahl des Computers ist nur mit Anpassungen f"ur eine Simulation mit kleinen
Zahlen, die ben"otigt werden, verwendbar.

\chapter{Die Wahlt der Werkzeuge}
\section{Sprachen}
Eine Computersprache ist ein Werkzeug, das verwendet wird, um ein Modell oder eine Idee
umzusetzten. Die Wahl des richtigen Werkzeuges ist eine wichtige Entscheidung, da jede
Sprache Vor- und Nachteile hat. F"ur dieses Projekt ist es eine hohe Geschwindigkeit 
und eine hohe Abstraktion n"otig.

\paragraph{Die imperativen Sprachen}, wie C, sind f"ur diese Simulation
nicht geeignet, da sie zu wenig Abstraktion bieten. Da eine Umgebung aufgebaut werden 
muss, ist es praktisch, wenn die Sprache eine Strukturierung von sich zu verf"ugung 
stellt. Einfache Datenstruktur, ohne starkes Typensystem oder objektoriente Abstraktion,
reichen nicht aus, um eine flexible Umgebung aufzubauen. Die hohe Geschwindigkeit, die
C bietet, ist f"ur eine Simulation, wie diese, optimal, aber die mangelnde Abstraktion
verhindert das Aufbauen einer starken Umgebung.

\paragraph{Die Skriptsprachen}, wie Python oder Perl, sind schlicht nicht schnell genug.
Das dynamische Typensystem und die st"andige Interpretation des Klartextcodes machen 
diese Sprachen zu langsam, um mehrere Teilchenbeschleuniger gleichzeitig zu 
simulieren. Die hohe Abstraktion die diese Sprachen geben erm"oglichen aber eine 
schnelle Entwicklung mit angenehmer Abstraktion.

\paragraph{Die VM-Sprachen}, wie Java, bieten eine hervoragende Kombination von 
Leistung und Abstraktion. Sie sind darauf gepolt dem Entwickler m"oglichst viel Arbeit
abzunehmen. Nach ein paar Sekunden springt zum Beispiel die Garbage Collection an und
gibt Speicher frei. Das unterbricht zwar den Prgrammablauf, aber nimmt dem Entwickler 
Arbeit ab. Hohe Leistung ist ein Anspruch an die Simulation. Die VM-Sprachen sind 
per se eine gute Wahl, da eine gute Ballance zwischen Leistung und Abstraktion besteht
und Bibliotheken dabei sind. Trotzdem ist es nicht optimal, wenn keine absolute 
Kontrolle "uber den Programmaublauf besteht.

\paragraph{C++} ist die Sprache, die immer dann verwendet wird, wenn man gro"se 
Abstraktion und n"ahe zur Hardware braucht. Die Abstraktion von C++ ist so gro"s wie die
von Java, erlaubt aber den Programm komplett zu kontrollieren, und ist "ahnlich schnell
wie C. Wenn man strukturiert an C++-Code bearbeitet kann man RAII \marginpar{Siehe 
Seite \pageref{RAII} \ref{RAII}} kann man den Nachteil einer fehlenden 
Garbage-Collection vollkommen ausgleichen.

In dieser Simulation wird eine Symbiose von C++ und Java verwendet. C++ ist rein f"ur 
die Simulation gedacht, da sehr hohe Performance mit einem sehr hohen Abstraktionniveau erm"oglicht. Java hingegen wird f"ur die Konfiguration der Simulation verwendet, da die
Standardbibliothek eine sehr gute Benutzeroberfl"ache bietet, die auf de-facto jedem
PC lauff"ahig ist.

\section{Bibliotheken}
C++ hat allerdings den Nachteil, dass keine gro"se Standardbibliothek hat, die Rendering
und komplexes Multithreading erlaubt, die beide f"ur diese Simulation exsistentiell 
sind. 

\paragraph{SFML}, die Simple and Fast Media Layer, wird verwendet, um Graphen zu 
zeichnen und auf Nutzereingabe zu warten, um dannach das Prgramm zu verwenden. SFML
ist eine Plattform"ubergreifende Bibliothek, die einen OpenGL-Context erstellt und von
jenem Abstrahiert, um eine performante und leicht zu bedienende Renderingbibliothek zur
verf"ugung stellt. SFML unterst"utzt auch Multithreading und vieles mehr.

\paragraph{Boost} ist eine andere Plattform"ubergreifende Bilbiothek f"ur C++, die eine
Alternative zur Standardbibliothek dastellt. Boost interagiert gut mit der 
Standardbibliothek und stellt moderene Implementationen (oder überhaupt welche) f"ur
die meisten Probleme da. Boost-Thread eine Unterbibliothek von Boost f"ur Multithreading
wird hier verwendet.

\section{Buildsysteme}
Als Buildsystem werden Unix-Makefiles benutzt. Ein Makefile besteht aus Regeln, die
entweder von Regeln oder von Dateien abh"angen und erlaubt ein Inkrementelles bauen
der Simulation. Als Kompiler wird Clang empfolen, da er schneller ist und bessere
Warnungen oder Fehlermeldungen ausgibt als GCC. W"ahrend es Entwicklungsprozesses 
wurde GCC verwendet, damit das Tool Gprof zum Profiling verwendet wernden konnte.
Unix-Makefiles sind durch Ports, wie MinGW, auch f"ur Windows verf"ugbar. Zum Bauen
der Software m"ussen die Bibliotheken f"ur den Kompiler vorhanden und auffindbar sein.

Das Startprogramm in Java wird mit Netbeans entwickelt und muss seperat gebaut werden,
allerdings ist eine Binary als versionierte Datei enthalten.


\chapter{Design Grundlagen in C++}
\section{RAII-Klassen} \label{RAII}
RAII (resource aquision is initialization) ist ein Designprinzip in C++, das 
Resourcen-Leaks vermeiden soll. Da C++ keinen Garbage-Collector hat, muss mit
anderen Mitteln vermiden, dass Speicher nicht wieder freigegen wird oder Threads beendetwerden. Eine Grundlage von RAII ist, dass man in Konstruktor alle Ressourcen, wie
Speicher, Threads oder Sockets, initialisiert und sie im Destruktor wieder frei gibt.
Der Destruktor wird immer dann aufgerufen, wenn ein Objekt aus dem Scope geht oder
gel"oscht wird. H"alt man das RAII-Prinzip strickt ein kann den Nachteil der fehlenden
Garbage-Collection mit ein Minimum an Mehrarbeit ausgleichen. Nat"urlich gibt es auch
billige Gr"unde von dem RAII Prinzip wegzugehen, wie Performancegr"unde bei Mutexen
\marginpar{Siehe Seite \pageref{Synchronisation} \ref{Synchronisation} }, abzuweichen,
aber meisten ist es zu empfehlen, bei RAII zu bleiben.

Man sollte im Destruktor niemals Exceptions werfen, da wenn schon eine Exception 
geworfen wurde man so lange Scopes verl"asst wie es dauert die Exception zu fagen.
Das heißt, wenn eine Exception ein Destruktoraufruf ausl"ost und in jenem eine Exception
geworfen wird m"ussen 2 Exception gleichzeitig behandelt werden. Das ist undefiniertes 
Verhalten und kann von jedem Kompiler anders gehandelt werden und zu Abstrutz des 
Programmes f"uhren. RAII ist die einzige M"oglichkeit Ressourcen-Leaks zu vermeiden,
wenn mit Exceptions programmiert wird.

Wenn eine Exception geworfen wird, wird das Objekt der Klasse Array

\newpage
\section{Templates}
Templates sind mit Generics in Java vergleichbar. Templates erm"oglichen in C++
parametrischen Polymorphismus. Das hei"st, dass man einen neuen Typen mit Parametern
erschaffen kann. In den spitzen Klammern von Templates k"onnen mehrere Klassen, 
primitive Datentypen, wie int oder double, und Typen an die Klasse "ubergeben.

Eine einfache Array-Klasse als Beispiel f"ur Templates und RAII
\begin{lstlisting}
template<class type, int size>
class Array{
	protected:
		type* array_content;

	public:
		Array(){
			array_content = new type[size];
		}

		type& get_element(int at){
			return array_content[at];
		}

		~Array(){
			delete array_content;
		}
}; 
\end{lstlisting}

\section{Operator"uberladung}
\section{Singletonobjekte}

\chapter{Multitasking}
\section{Warum Multithreading ?}
\section{Wer viel gleichzeitug macht, macht fehler.}
\section{Synchronisation} \label{Synchronisation}
\section{Kommunikation zwischen Threads}

\chapter{Desing der Simulation}
\section{Application}
\section{Window} 
\section{Graphen und GraphController}
\section{Zyklotron und ZyklotronController}
\section{Starten der Simulation}

\chapter{Umsetzung}
\section{L"osung des Genauigkeitsproblem bei Flie"skommazahlen}
\section{Channel f"ur die Kommunikation zwischen Threads}
\section{Geometrie im Fenster}
\section{Wie wird ein Graph gerendert}
\section{Starten der Simulation}
\section{Stoppen der Simulation}

\chapter{Quellen}

\appendix
\chapter{Handbuch}
\tableofcontents
\section{Die Software bauen}
\section{Eine Simulation starten}


\chapter{Klassendokumentation}
\newpage


\end{document}
